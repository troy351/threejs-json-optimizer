(function(e){function t(t){for(var n,a,c=t[0],s=t[1],u=t[2],f=0,g=[];f<c.length;f++)a=c[f],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&g.push(i[a][0]),i[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(g.length)g.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,c=1;c<r.length;c++){var s=r[c];0!==i[s]&&(n=!1)}n&&(o.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},i={app:0},o=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{staticStyle:{float:"left",width:"70%"}},[r("h3",[e._v("Optimizer")]),e._m(0),r("p",[e._v(" STEP 1: "),r("input",{attrs:{type:"file",multiple:"",accept:"application/json"},on:{change:e.fileChange}}),e._v(" Choose "),r("code",[e._v("app.json")]),e._v(" file that in editor published "),r("code",[e._v("zip")]),e._v(" file (note: all json files will be merged when multiple file selected) ")]),e.s2Visible?r("p",[e._v("STEP 2: "),r("button",{on:{click:e.analyse}},[e._v("Analyse")])]):e._e(),e.s3Visible?[r("p",[e._v("STEP 3: Choose optimize options")]),r("ul",[r("li",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.config.ignoreName,expression:"config.ignoreName"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.ignoreName)?e._i(e.config.ignoreName,null)>-1:e.config.ignoreName},on:{change:function(t){var r=e.config.ignoreName,n=t.target,i=!!n.checked;if(Array.isArray(r)){var o=null,a=e._i(r,o);n.checked?a<0&&e.$set(e.config,"ignoreName",r.concat([o])):a>-1&&e.$set(e.config,"ignoreName",r.slice(0,a).concat(r.slice(a+1)))}else e.$set(e.config,"ignoreName",i)}}}),e._v("ignore name ("),r("code",[e._v("name")]),e._v(" will be ignored while comparing two jsons)")]),r("li",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.config.toJPG,expression:"config.toJPG"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.toJPG)?e._i(e.config.toJPG,null)>-1:e.config.toJPG},on:{change:function(t){var r=e.config.toJPG,n=t.target,i=!!n.checked;if(Array.isArray(r)){var o=null,a=e._i(r,o);n.checked?a<0&&e.$set(e.config,"toJPG",r.concat([o])):a>-1&&e.$set(e.config,"toJPG",r.slice(0,a).concat(r.slice(a+1)))}else e.$set(e.config,"toJPG",i)}}}),e._v("convert png to jpg to reduce size")]),r("li",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.config.resizeImage,expression:"config.resizeImage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.resizeImage)?e._i(e.config.resizeImage,null)>-1:e.config.resizeImage},on:{change:function(t){var r=e.config.resizeImage,n=t.target,i=!!n.checked;if(Array.isArray(r)){var o=null,a=e._i(r,o);n.checked?a<0&&e.$set(e.config,"resizeImage",r.concat([o])):a>-1&&e.$set(e.config,"resizeImage",r.slice(0,a).concat(r.slice(a+1)))}else e.$set(e.config,"resizeImage",i)}}}),e._v("reduce image resolution to less than 2048x2048")]),r("li",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.config.removeInvisible,expression:"config.removeInvisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.removeInvisible)?e._i(e.config.removeInvisible,null)>-1:e.config.removeInvisible},on:{change:function(t){var r=e.config.removeInvisible,n=t.target,i=!!n.checked;if(Array.isArray(r)){var o=null,a=e._i(r,o);n.checked?a<0&&e.$set(e.config,"removeInvisible",r.concat([o])):a>-1&&e.$set(e.config,"removeInvisible",r.slice(0,a).concat(r.slice(a+1)))}else e.$set(e.config,"removeInvisible",i)}}}),e._v("remove invisible objects")]),r("li",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.config.removeObjects,expression:"config.removeObjects"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.removeObjects)?e._i(e.config.removeObjects,null)>-1:e.config.removeObjects},on:{change:function(t){var r=e.config.removeObjects,n=t.target,i=!!n.checked;if(Array.isArray(r)){var o=null,a=e._i(r,o);n.checked?a<0&&e.$set(e.config,"removeObjects",r.concat([o])):a>-1&&e.$set(e.config,"removeObjects",r.slice(0,a).concat(r.slice(a+1)))}else e.$set(e.config,"removeObjects",i)}}}),e._v("remove duplicate objects")]),r("li",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.config.removeUserData,expression:"config.removeUserData"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.removeUserData)?e._i(e.config.removeUserData,null)>-1:e.config.removeUserData},on:{change:function(t){var r=e.config.removeUserData,n=t.target,i=!!n.checked;if(Array.isArray(r)){var o=null,a=e._i(r,o);n.checked?a<0&&e.$set(e.config,"removeUserData",r.concat([o])):a>-1&&e.$set(e.config,"removeUserData",r.slice(0,a).concat(r.slice(a+1)))}else e.$set(e.config,"removeUserData",i)}}}),e._v("remove userData")]),r("li",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.config.separateImages,expression:"config.separateImages"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.separateImages)?e._i(e.config.separateImages,null)>-1:e.config.separateImages},on:{change:function(t){var r=e.config.separateImages,n=t.target,i=!!n.checked;if(Array.isArray(r)){var o=null,a=e._i(r,o);n.checked?a<0&&e.$set(e.config,"separateImages",r.concat([o])):a>-1&&e.$set(e.config,"separateImages",r.slice(0,a).concat(r.slice(a+1)))}else e.$set(e.config,"separateImages",i)}}}),e._v("separate images")]),r("li",[r("button",{on:{click:e.optimize}},[e._v("Optimize")])])])]:e._e(),e.s4Visible?r("p",[e._v("STEP 4: "),r("button",{on:{click:e.download}},[e._v("download")])]):e._e(),r("hr"),r("h3",[e._v("Utility")]),r("p",[e._v("Find UUID Usage")]),r("p",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchUUID,expression:"searchUUID"}],attrs:{type:"text",placeholder:"input the uuid here"},domProps:{value:e.searchUUID},on:{input:function(t){t.target.composing||(e.searchUUID=t.target.value)}}}),r("button",{staticStyle:{"margin-left":"10px"},on:{click:e.search}},[e._v("Search")])]),r("p",[r("pre",[e._v(e._s(e.searchResult))])])],2),r("div",{staticStyle:{float:"left",width:"30%"}},[r("p",[e._v("logs")]),e.logs.length?r("ul",{staticClass:"log"},e._l(e.logs,(function(t,n){return r("li",{key:n},[e._v(e._s(t))])})),0):e._e()])])},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h5",[e._v(" This tool was designed to optimize json file exported by "),r("a",{attrs:{href:"https://threejs.org/editor",target:"_blank"}},[e._v("threejs editor")]),e._v(" to reduce its size and improve performance. ")])}],a=(r("a4d3"),r("99af"),r("a623"),r("4de4"),r("4160"),r("d81d"),r("fb6a"),r("b0c0"),r("4ec9"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("3ca3"),r("159b"),r("ddb0"),r("96cf"),r("2909")),c=r("ade3");function s(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(Promise.all(e.map((function(e){return new Promise((function(t){var r=new FileReader;r.onload=function(){var e=JSON.parse(this.result);t(e)},r.readAsText(e)}))}))));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}r("0d03"),r("25f0");for(var u=[],l=0;l<256;l++)u[l]=(l<16?"0":"")+l.toString(16);function f(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=u[255&e]+u[e>>8&255]+u[e>>16&255]+u[e>>24&255]+"-"+u[255&t]+u[t>>8&255]+"-"+u[t>>16&15|64]+u[t>>24&255]+"-"+u[63&r|128]+u[r>>8&255]+"-"+u[r>>16&255]+u[r>>24&255]+u[255&n]+u[n>>8&255]+u[n>>16&255]+u[n>>24&255];return i.toUpperCase()}var g=/^[0-9A-Z]{8}-([0-9A-Z]{4}-){3}[0-9A-Z]{12}$/;function h(e){return"string"===typeof e&&g.test(e)}r("4fad");var p=r("3835"),d=r("53ca");function m(e,t){null!==e&&"object"===Object(d["a"])(e)&&Object.entries(e).forEach((function(r){var n=Object(p["a"])(r,2),i=n[0],o=n[1];e.uuid&&t(o,i,e),"parent"!==i&&m(o,t)}))}function v(e){var t={};m(e,(function(e,r){"uuid"!==r||t[e]||(t[e]=f())})),m(e,(function(e,r,n){h(e)&&(n[r]=t[e]||e)}))}var b=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return new Promise((function(t){setTimeout((function(){t(e.apply(void 0,r))}),0)}))}};function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Group";return{uuid:f(),type:t,name:e,layers:1,matrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],children:[]}}var O=["geometries","images","materials","textures"],x=b((function(e,t){e.forEach((function(e){return v(e)}));var r=j({},e[0]);return O.forEach((function(e){return r[e]=[]})),r.object=w("merged-group"),e.forEach((function(e,n){O.forEach((function(t){return r[t]=r[t].concat(e[t])}));var i=w(t[n]);i.children=e.object.children,r.object.children.push(i)})),r}));r("13d5"),r("90d7"),r("ac1f"),r("6062"),r("466d"),r("2ca0"),r("caad"),r("4e82"),r("a434");function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=!0;function I(e){k=e}function A(){return k}function D(e,t){e.sort((function(e,r){return e[t]<r[t]?-1:e[t]>r[t]?1:0}))}function S(e){e.forEach((function(e){var t=P({},e);delete t.uuid,k&&delete t.name,e.json=JSON.stringify(t)})),D(e,"json")}function E(e){e.forEach((function(e){return delete e.json}))}function U(e,t,r){var n=1,i=0;while(n<e.length)t(e[n])===t(e[n-1])?(r.set(e[n].uuid,e[n-1].uuid),e.splice(n,1),i++):n++;return i}function N(e){return["Group","Object3D","Scene"].includes(e.type)}var R=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function $(e){return e&&e.matrix.toString()===R.toString()}function J(e,t,r){return new Promise((function(n){var i=e.url,o=new Image;o.src=i,o.onload=function(){var a=Math.log2(o.width),c=Math.log2(o.height),s=Math.floor(a)!==a||Math.floor(c)!==c||r&&a>11||r&&c>11,u=t&&!i.startsWith("data:image/jpeg");if(s||u){var l=Math.pow(2,Math.round(a)),f=Math.pow(2,Math.round(c)),g=Math.pow(2,11);s&&(l>g&&(f=f/l*g,l=g),f>g&&(l=l/f*g,f=g));var h=document.createElement("canvas");h.width=l,h.height=f;var p=h.getContext("2d");p.drawImage(o,0,0,l,f),e.url=h.toDataURL(t?"image/jpeg":i.match(/:(.+);/)[1],t?.6:1),n(!0)}else n(!1)}}))}var z=b((function(e,t){return D(e,"url"),U(e,(function(e){return e.url}),t)})),M=b((function(e,t){e.forEach((function(e){var r=t.get(e.image);r&&(e.image=r)})),S(e);var r=U(e,(function(e){return e.json}),t);return E(e),r})),G=b((function(e,t){e.forEach((function(e){Object.entries(e).forEach((function(r){var n=Object(p["a"])(r,2),i=n[0],o=n[1];h(o)&&t.has(o)&&(e[i]=t.get(o))}))})),S(e);var r=U(e,(function(e){return e.json}),t);return E(e),r})),T=b((function(e,t){S(e);var r=U(e,(function(e){return e.json}),t);return E(e),r})),C=b((function(e,t){var r=0;function n(e){Object.entries(e).forEach((function(i){var o=Object(p["a"])(i,2),a=o[0],c=o[1];"children"===a&&Array.isArray(c)?c.forEach((function(e){return n(e)})):(h(c)&&(e[a]=t.get(c)||c),e[a]!==c&&r++)}))}return n(e),r})),V=b((function(e){var t=0;return m(e,(function(e,r,n){if(n.children){var i=n.children.length;n.children=n.children.filter((function(e){return!1!==e.visible})),t+=i-n.children.length}})),t})),F=b((function(e){var t=JSON.parse(JSON.stringify(e)),r={},n=[];m(t,(function(e,t,i){r[i.uuid]||(r[i.uuid]=!0,n.push([i.uuid,i])),A()&&delete i.name,delete i.uuid,i.children&&i.children.forEach((function(e){return e.parent=i}))}));var i=n.map((function(e){var t=Object(p["a"])(e,2),r=t[0],n=t[1];if(!N(n)){var i=JSON.parse(JSON.stringify(e[1],(function(e,t){return"children"===e?void 0:t}))),o=i;while(o){while($(o.parent))o.parent=o.parent.parent;o=o.parent}return[r,JSON.stringify(i)]}})).filter((function(e){return e}));D(i,1);var o=0,a=new Set;return i.forEach((function(e,t,r){t&&e[1]===r[t-1][1]&&(a.add(r[t][0]),o++)})),m(e,(function(e,t,r){r.children&&(r.children=r.children.filter((function(e){return!a.has(e.uuid)})))})),o})),L=b((function(e){var t={},r=O.reduce((function(t,r){return t+(e[r]||[]).length}),0),n=function(){var t=!1;if(m(e.object,(function(e,n,i){i.children&&(i.children=i.children.filter((function(e){var n=!N(e)||i.children.length;return t=t||!n,r+=!n,n})))})),!t)return"break"};while(1){var i=n();if("break"===i)break}return m(e.object,(function(e){h(e)&&(t[e]=!0)})),e.geometries&&(e.geometries=e.geometries.filter((function(e){return t[e.uuid]})),e.geometries.forEach((function(e){return t[e.uuid]=!0}))),e.materials&&(e.materials=e.materials.filter((function(e){return t[e.uuid]})),e.materials.forEach((function(e){return Object.entries(e).forEach((function(e){var r=Object(p["a"])(e,2),n=(r[0],r[1]);h(n)&&(t[n]=!0)}))}))),e.textures&&(e.textures=e.textures.filter((function(e){return t[e.uuid]})),e.textures.forEach((function(e){return t[e.image]=!0}))),e.images&&(e.images=e.images.filter((function(e){return t[e.uuid]}))),r-O.reduce((function(t,r){return t+(e[r]||[]).length}),0)})),Z=b((function(e){var t=0;return m(e,(function(e,r,n){"userData"===r&&(delete n.userData,t++)})),t}));r("2b3d");function B(e,t){var r=document.createElement("a");r.download=e,r.href=URL.createObjectURL(t),r.click()}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"app";B(t+"-optimize.json",new Blob([JSON.stringify(e)]))}r("7db0"),r("a15b"),r("07ac"),r("2532"),r("38cf");function q(e,t){if("object"===Object(d["a"])(e)){e.uuid&&t.set(e.uuid,e);var r=Array.isArray(e)?e:Object.values(e);r.forEach((function(e){return q(e,t)}))}}function H(e,t){var r=new Map;q(e,r);var n=[];return r.forEach((function(e){var r=Object.values(e),i=r.find((function(e){return e.toString().includes(t)}));i&&n.push(e)})),n.length?n.map((function(e){return JSON.stringify(e,(function(e,t){return Array.isArray(t)&&"number"===typeof t[0]?t.length>5?JSON.stringify(t.slice(0,5)).slice(0,-1)+" ...]":JSON.stringify(t):t}),2)})).join("\n\n".concat("-".repeat(50),"\n\n")):"Nothing found"}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){Object(c["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X={ignoreName:!0,toJPG:!0,resizeImage:!0,removeInvisible:!0,removeObjects:!0,removeUserData:!0,separateImages:!1},Y={name:"app",data:function(){return{files:[],logs:[],step:0,config:Q({},X),searchUUID:"",searchResult:""}},computed:{s2Visible:function(){return!!this.files.length},s3Visible:function(){return this.s2Visible&&this.step>=3},s4Visible:function(){return this.s3Visible&&this.step>=4}},methods:{reset:function(){this.logs=[],this.config=Q({},X)},fileChange:function(e){this.files=Object(a["a"])(e.target.files),this.step=1,this.json=null},log:function(e){this.logs.push(e)},fileCheck:function(){return this.files.length?(this.log("".concat(this.files.length," file").concat(this.files.length>1?"s":""," detected")),!!this.files.every((function(e){return"application/json"===e.type}))||alert("Only json files are accepted")):alert("Plase choose files at STEP 1")},loadFile:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return this.log("loading"),t.next=3,regeneratorRuntime.awrap(s(this.files));case 3:if(e=t.sent,e.every((function(e){return e.metadata}))){t.next=6;break}return t.abrupt("return",alert("Please choose valid json files exported by threejs editor"));case 6:this.log("load complete"),this.jsons=e.map((function(e){return"App"===e.metadata.type?e.scene:e}));case 8:case"end":return t.stop()}}),null,this)},analyse:function(){var e;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:if(this.reset(),this.fileCheck()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,regeneratorRuntime.awrap(this.loadFile());case 5:if(e=this.jsons,this.json=e[0],!(e.length>1)){t.next=13;break}return this.log("merging files"),t.next=11,regeneratorRuntime.awrap(x(e,this.files.map((function(e){return e.name.slice(0,-5)}))));case 11:this.json=t.sent,this.log("merging complete");case 13:this.step=3;case 14:case"end":return t.stop()}}),null,this)},optimize:function(){var e,t,r,n,i,o,a;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return e=this.json,t=this.config,r=new Map,n=0,I(t.ignoreName),i=e.images||[],this.log("removing duplicate images"),c.next=9,regeneratorRuntime.awrap(z(i,r));case 9:n=c.sent,this.log("".concat(n," image").concat(n>1?"s were":" was"," removed")),this.log("processing images"),this.log("0 image was processed"),n=0,o=0;case 15:if(!(o<i.length)){c.next=23;break}return c.next=18,regeneratorRuntime.awrap(J(i[o],t.toJPG,t.resizeImage));case 18:a=c.sent,a&&(n++,this.logs.pop(),this.log("".concat(n," image").concat(n>1?"s were":" was"," processed")));case 20:o++,c.next=15;break;case 23:return this.log("removing duplicate textures"),c.next=26,regeneratorRuntime.awrap(M(e.textures||[],r));case 26:return n=c.sent,this.log("".concat(n," texture").concat(n>1?"s were":" was"," removed")),this.log("removing duplicate materials"),c.next=31,regeneratorRuntime.awrap(G(e.materials||[],r));case 31:return n=c.sent,this.log("".concat(n," material").concat(n>1?"s were":" was"," removed")),this.log("removing duplicate geometries"),c.next=36,regeneratorRuntime.awrap(T(e.geometries||[],r));case 36:return n=c.sent,this.log("".concat(n," geometr").concat(n>1?"ies were":"y was"," removed")),this.log("reattach object attached uuids"),c.next=41,regeneratorRuntime.awrap(C(e.object||[],r));case 41:if(n=c.sent,this.log("".concat(n," object").concat(n>1?"s were":" was"," reattached")),!t.removeInvisible){c.next=49;break}return this.log("removing invisible objects"),c.next=47,regeneratorRuntime.awrap(V(e.object||[]));case 47:n=c.sent,this.log("".concat(n," object").concat(n>1?"s were":" was"," removed"));case 49:if(!t.removeObjects){c.next=55;break}return this.log("removing duplicate objects"),c.next=53,regeneratorRuntime.awrap(F(e.object||[]));case 53:n=c.sent,this.log("".concat(n," object").concat(n>1?"s were":" was"," removed"));case 55:return this.log("removing unused resources"),c.next=58,regeneratorRuntime.awrap(L(e));case 58:if(n=c.sent,this.log("".concat(n," unused resource").concat(n>1?"s were":" was"," removed")),!t.removeUserData){c.next=66;break}return this.log("removing userData"),c.next=64,regeneratorRuntime.awrap(Z(e));case 64:n=c.sent,this.log("".concat(n," userData was removed"));case 66:this.step=4;case 67:case"end":return c.stop()}}),null,this)},download:function(){W(this.json,this.files[0].name.slice(0,-5))},search:function(){return h(this.searchUUID)?this.json?this.files.length>1?alert("Only support search in one json file"):void(this.searchResult=H(this.json,this.searchUUID)):alert("Please analyse a json in optimizer first"):alert("Please input a valid uuid")}}},ee=Y,te=r("2877"),re=Object(te["a"])(ee,i,o,!1,null,null,null),ne=re.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(ne)}}).$mount("#app")}});